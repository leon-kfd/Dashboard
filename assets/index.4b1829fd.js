import{d as Ze,r as B,J as ct,c as gt,H as Q,w as yt,e as G,o as h,f as ee,g as b,h as f,t as D,i as y,V as ne,j as k,k as g,F as W,n as he,D as L,_ as qe,K as bt,N as He,v as Ne,a4 as $e,x as je,y as We,O as kt,X as Qe,u as wt,Y as be,Z as R,W as Dt,z as St,A as Ct,Q as xe,C as Fe,U as Ge,p as et}from"./index.27ec1541.js";import{D as tt}from"./vuedraggable.umd.49a3c5d1.js";import{a as Oe,b as Et,c as xt}from"./images.af872614.js";import nt from"./StandardColorPicker.f8f787f5.js";import Ft from"./ActionPopover.9d0cbbe4.js";import{I as _t}from"./IframeOpener.1a8a2691.js";import"./direction.52659f5b.js";var I,C,a,le,Z=[],$t=Z.concat,De=Z.filter,se=Z.slice,V=window.document,Pe={},Ie={},Tt={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Ue=/^\s*<(\w+|!)[^>]*>/,Bt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,it=/^(?:body|html)$/i,At=/([A-Z])/g,Vt=["val","css","html","text","data","width","height","offset"],Nt=["after","prepend","before","append"],Le=V.createElement("table"),ot=V.createElement("tr"),at={tr:V.createElement("tbody"),tbody:Le,thead:Le,tfoot:Le,td:ot,th:ot,"*":V.createElement("div")},Ot=/^[\w-]*$/,Xe={},Pt=Xe.toString,w={},Te,Be,lt=V.createElement("div"),Me={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},pe=Array.isArray||function(e){return e instanceof Array};w.matches=function(e,t){if(!t||!e||e.nodeType!==1)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,s=e.parentNode,u=!s;return u&&(s=lt).appendChild(e),i=~w.qsa(s,t).indexOf(e),u&&lt.removeChild(e),i};function Se(e){return e==null?String(e):Xe[Pt.call(e)]||"object"}function ue(e){return Se(e)=="function"}function ze(e){return e!=null&&e==e.window}function Je(e){return e!=null&&e.nodeType==e.DOCUMENT_NODE}function de(e){return Se(e)=="object"}function we(e){return de(e)&&!ze(e)&&Object.getPrototypeOf(e)==Object.prototype}function Ye(e){var t=!!e&&"length"in e&&e.length,n=a.type(e);return n!="function"&&!ze(e)&&(n=="array"||t===0||typeof t=="number"&&t>0&&t-1 in e)}function It(e){return De.call(e,function(t){return t!=null})}function Lt(e){return e.length>0?a.fn.concat.apply([],e):e}Te=function(e){return e.replace(/-+(.)?/g,function(t,n){return n?n.toUpperCase():""})};function ke(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}Be=function(e){return De.call(e,function(t,n){return e.indexOf(t)==n})};function rt(e){return e in Ie?Ie[e]:Ie[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function ut(e,t){return typeof t=="number"&&!Tt[ke(e)]?t+"px":t}function Mt(e){var t,n;return Pe[e]||(t=V.createElement(e),V.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),n=="none"&&(n="block"),Pe[e]=n),Pe[e]}function st(e){return"children"in e?se.call(e.children):a.map(e.childNodes,function(t){if(t.nodeType==1)return t})}function ft(e,t){var n,i=e?e.length:0;for(n=0;n<i;n++)this[n]=e[n];this.length=i,this.selector=t||""}w.fragment=function(e,t,n){var i,s,u;return Bt.test(e)&&(i=a(V.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(zt,"<$1></$2>")),t===I&&(t=Ue.test(e)&&RegExp.$1),t in at||(t="*"),u=at[t],u.innerHTML=""+e,i=a.each(se.call(u.childNodes),function(){u.removeChild(this)})),we(n)&&(s=a(i),a.each(n,function(E,x){Vt.indexOf(E)>-1?s[E](x):s.attr(E,x)})),i};w.Z=function(e,t){return new ft(e,t)};w.isZ=function(e){return e instanceof w.Z};w.init=function(e,t){var n;if(e)if(typeof e=="string")if(e=e.trim(),e[0]=="<"&&Ue.test(e))n=w.fragment(e,RegExp.$1,t),e=null;else{if(t!==I)return a(t).find(e);n=w.qsa(V,e)}else{if(ue(e))return a(V).ready(e);if(w.isZ(e))return e;if(pe(e))n=It(e);else if(de(e))n=[e],e=null;else if(Ue.test(e))n=w.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==I)return a(t).find(e);n=w.qsa(V,e)}}else return w.Z();return w.Z(n,e)};a=function(e,t){return w.init(e,t)};function dt(e,t,n){for(C in t)n&&(we(t[C])||pe(t[C]))?(we(t[C])&&!we(e[C])&&(e[C]={}),pe(t[C])&&!pe(e[C])&&(e[C]=[]),dt(e[C],t[C],n)):t[C]!==I&&(e[C]=t[C])}a.extend=function(e){var t,n=se.call(arguments,1);return typeof e=="boolean"&&(t=e,e=n.shift()),n.forEach(function(i){dt(e,i,t)}),e};w.qsa=function(e,t){var n,i=t[0]=="#",s=!i&&t[0]==".",u=i||s?t.slice(1):t,E=Ot.test(u);return e.getElementById&&E&&i?(n=e.getElementById(u))?[n]:[]:e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11?[]:se.call(E&&!i&&e.getElementsByClassName?s?e.getElementsByClassName(u):e.getElementsByTagName(t):e.querySelectorAll(t))};function _e(e,t){return t==null?a(e):a(e).filter(t)}a.contains=V.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1};function te(e,t,n,i){return ue(t)?t.call(e,n,i):t}function Re(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function fe(e,t){var n=e.className||"",i=n&&n.baseVal!==I;if(t===I)return i?n.baseVal:n;i?n.baseVal=t:e.className=t}function ht(e){try{return e&&(e=="true"||(e=="false"?!1:e=="null"?null:+e+""==e?+e:/^[\[\{]/.test(e)?a.parseJSON(e):e))}catch{return e}}a.type=Se;a.isFunction=ue;a.isWindow=ze;a.isArray=pe;a.isPlainObject=we;a.isEmptyObject=function(e){var t;for(t in e)return!1;return!0};a.isNumeric=function(e){var t=Number(e),n=typeof e;return e!=null&&n!="boolean"&&(n!="string"||e.length)&&!isNaN(t)&&isFinite(t)||!1};a.inArray=function(e,t,n){return Z.indexOf.call(t,e,n)};a.camelCase=Te;a.trim=function(e){return e==null?"":String.prototype.trim.call(e)};a.uuid=0;a.support={};a.expr={};a.noop=function(){};a.map=function(e,t){var n,i=[],s,u;if(Ye(e))for(s=0;s<e.length;s++)n=t(e[s],s),n!=null&&i.push(n);else for(u in e)n=t(e[u],u),n!=null&&i.push(n);return Lt(i)};a.each=function(e,t){var n,i;if(Ye(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e};a.grep=function(e,t){return De.call(e,t)};window.JSON&&(a.parseJSON=JSON.parse);a.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Xe["[object "+t+"]"]=t.toLowerCase()});a.fn={constructor:w.Z,length:0,forEach:Z.forEach,reduce:Z.reduce,push:Z.push,sort:Z.sort,splice:Z.splice,indexOf:Z.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=w.isZ(t)?t.toArray():t;return $t.apply(w.isZ(this)?this.toArray():this,n)},map:function(e){return a(a.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return a(se.apply(this,arguments))},ready:function(e){if(V.readyState==="complete"||V.readyState!=="loading"&&!V.documentElement.doScroll)setTimeout(function(){e(a)},0);else{var t=function(){V.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1),e(a)};V.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)}return this},get:function(e){return e===I?se.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(e){return Z.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return ue(e)?this.not(this.not(e)):a(De.call(this,function(t){return w.matches(t,e)}))},add:function(e,t){return a(Be(this.concat(a(e,t))))},is:function(e){return typeof e=="string"?this.length>0&&w.matches(this[0],e):e&&this.selector==e.selector},not:function(e){var t=[];if(ue(e)&&e.call!==I)this.each(function(i){e.call(this,i)||t.push(this)});else{var n=typeof e=="string"?this.filter(e):Ye(e)&&ue(e.item)?se.call(e):a(e);this.forEach(function(i){n.indexOf(i)<0&&t.push(i)})}return a(t)},has:function(e){return this.filter(function(){return de(e)?a.contains(this,e):a(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!de(e)?e:a(e)},last:function(){var e=this[this.length-1];return e&&!de(e)?e:a(e)},find:function(e){var t,n=this;return e?typeof e=="object"?t=a(e).filter(function(){var i=this;return Z.some.call(n,function(s){return a.contains(s,i)})}):this.length==1?t=a(w.qsa(this[0],e)):t=this.map(function(){return w.qsa(this,e)}):t=a(),t},closest:function(e,t){var n=[],i=typeof e=="object"&&a(e);return this.each(function(s,u){for(;u&&!(i?i.indexOf(u)>=0:w.matches(u,e));)u=u!==t&&!Je(u)&&u.parentNode;u&&n.indexOf(u)<0&&n.push(u)}),a(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=a.map(n,function(i){if((i=i.parentNode)&&!Je(i)&&t.indexOf(i)<0)return t.push(i),i});return _e(t,e)},parent:function(e){return _e(Be(this.pluck("parentNode")),e)},children:function(e){return _e(this.map(function(){return st(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||se.call(this.childNodes)})},siblings:function(e){return _e(this.map(function(t,n){return De.call(st(n.parentNode),function(i){return i!==n})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return a.map(this,function(t){return t[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=Mt(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=ue(e);if(this[0]&&!t)var n=a(e).get(0),i=n.parentNode||this.length>1;return this.each(function(s){a(this).wrapAll(t?e.call(this,s):i?n.cloneNode(!0):n)})},wrapAll:function(e){if(this[0]){a(this[0]).before(e=a(e));for(var t;(t=e.children()).length;)e=t.first();a(e).append(this)}return this},wrapInner:function(e){var t=ue(e);return this.each(function(n){var i=a(this),s=i.contents(),u=t?e.call(this,n):e;s.length?s.wrapAll(u):i.append(u)})},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(a(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=a(this);(e===I?t.css("display")=="none":e)?t.show():t.hide()})},prev:function(e){return a(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return a(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;a(this).empty().append(te(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=te(this,e,t,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return typeof e=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(n=this[0].getAttribute(e))!=null?n:I:this.each(function(i){if(this.nodeType===1)if(de(e))for(C in e)Re(this,C,e[C]);else Re(this,e,te(this,t,i,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&e.split(" ").forEach(function(t){Re(this,t)},this)})},prop:function(e,t){return e=Me[e]||e,typeof e=="string"&&!(1 in arguments)?this[0]&&this[0][e]:this.each(function(n){if(de(e))for(C in e)this[Me[C]||C]=e[C];else this[e]=te(this,t,n,this[e])})},removeProp:function(e){return e=Me[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(At,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return i!==null?ht(i):I},val:function(e){return 0 in arguments?(e==null&&(e=""),this.each(function(t){this.value=te(this,e,t,this.value)})):this[0]&&(this[0].multiple?a(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(n){var i=a(this),s=te(this,e,n,i.offset()),u=i.offsetParent().offset(),E={top:s.top-u.top,left:s.left-u.left};i.css("position")=="static"&&(E.position="relative"),i.css(E)});if(!this.length)return null;if(V.documentElement!==this[0]&&!a.contains(V.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if(typeof e=="string")return n?n.style[Te(e)]||getComputedStyle(n,"").getPropertyValue(e):void 0;if(pe(e)){if(!n)return;var i={},s=getComputedStyle(n,"");return a.each(e,function(E,x){i[x]=n.style[Te(x)]||s.getPropertyValue(x)}),i}}var u="";if(Se(e)=="string")!t&&t!==0?this.each(function(){this.style.removeProperty(ke(e))}):u=ke(e)+":"+ut(e,t);else for(C in e)!e[C]&&e[C]!==0?this.each(function(){this.style.removeProperty(ke(C))}):u+=ke(C)+":"+ut(C,e[C])+";";return this.each(function(){this.style.cssText+=";"+u})},index:function(e){return e?this.indexOf(a(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?Z.some.call(this,function(t){return this.test(fe(t))},rt(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){le=[];var n=fe(this),i=te(this,e,t,n);i.split(/\s+/g).forEach(function(s){a(this).hasClass(s)||le.push(s)},this),le.length&&fe(this,n+(n?" ":"")+le.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===I)return fe(this,"");le=fe(this),te(this,e,t,le).split(/\s+/g).forEach(function(n){le=le.replace(rt(n)," ")}),fe(this,le.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=a(this),s=te(this,e,n,fe(this));s.split(/\s+/g).forEach(function(u){(t===I?!i.hasClass(u):t)?i.addClass(u):i.removeClass(u)})}):this},scrollTop:function(e){if(!!this.length){var t="scrollTop"in this[0];return e===I?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(!!this.length){var t="scrollLeft"in this[0];return e===I?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(!!this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=it.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(a(e).css("margin-top"))||0,n.left-=parseFloat(a(e).css("margin-left"))||0,i.top+=parseFloat(a(t[0]).css("border-top-width"))||0,i.left+=parseFloat(a(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||V.body;e&&!it.test(e.nodeName)&&a(e).css("position")=="static";)e=e.offsetParent;return e})}};a.fn.detach=a.fn.remove;["width","height"].forEach(function(e){var t=e.replace(/./,function(n){return n[0].toUpperCase()});a.fn[e]=function(n){var i,s=this[0];return n===I?ze(s)?s["inner"+t]:Je(s)?s.documentElement["scroll"+t]:(i=this.offset())&&i[e]:this.each(function(u){s=a(this),s.css(e,te(this,n,u,s[e]()))})}});function pt(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)pt(e.childNodes[n],t)}Nt.forEach(function(e,t){var n=t%2;a.fn[e]=function(){var i,s=a.map(arguments,function(x){var _=[];return i=Se(x),i=="array"?(x.forEach(function($){if($.nodeType!==I)return _.push($);if(a.zepto.isZ($))return _=_.concat($.get());_=_.concat(w.fragment($))}),_):i=="object"||x==null?x:w.fragment(x)}),u,E=this.length>1;return s.length<1?this:this.each(function(x,_){u=n?_:_.parentNode,_=t==0?_.nextSibling:t==1?_.firstChild:t==2?_:null;var $=a.contains(V.documentElement,u);s.forEach(function(M){if(E)M=M.cloneNode(!0);else if(!u)return a(M).remove();u.insertBefore(M,_),$&&pt(M,function(o){if(o.nodeName!=null&&o.nodeName.toUpperCase()==="SCRIPT"&&(!o.type||o.type==="text/javascript")&&!o.src){var z=o.ownerDocument?o.ownerDocument.defaultView:window;z.eval.call(z,o.innerHTML)}})})})},a.fn[n?e+"To":"insert"+(t?"Before":"After")]=function(i){return a(i)[e](this),this}});w.Z.prototype=ft.prototype=a.fn;w.uniq=Be;w.deserializeValue=ht;a.zepto=w;var j=a;const Ke=e=>(je("data-v-3723ff44"),e=e(),We(),e),Rt={class:"font-tips-text"},Ht=["src"],Ut=["src"],Jt={key:3,class:"img-loading"},Zt=["width","height"],qt=Ke(()=>f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),jt=Ke(()=>f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),Wt=Ke(()=>f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),Xt=[qt,jt,Wt],Yt={key:0,class:"transform-tips"},Kt={key:1,class:"transform-bookmark-wrapper"},Qt={key:0,class:"details"},Gt={key:1,class:"title"},en={class:"footer",style:{"text-align":"right",padding:"12px"}},tn=["loading"],nn=Ze({__name:"ConfigDialog",props:{boxSize:String,boxRadius:String,iconSize:String},emits:["add","edit","import"],setup(e,{expose:t,emit:n}){const i=[{label:"API\u83B7\u53D6",value:"api"},{label:"\u6587\u5B57\u56FE\u6807",value:"text"},{label:"\u7F51\u7EDC\u56FE\u7247",value:"network"}],s=B(!1),u=B(),E=B(""),x=B(!0),_=B(!1),$=B(!1),{t:M}=ct(),o=gt({formData:{id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",iconText:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},formRules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}],url:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740",trigger:"blur"}],iconType:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u6807\u7C7B\u578B",trigger:"change"}],iconPath:[{validator:H,trigger:"blur"}]}}),z=B();function H(c,p,F){o.formData.iconType==="network"&&!p?F(new Error("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")):F()}const U=Q(()=>o.formData.iconType==="api"&&E.value||o.formData.iconType==="network"&&o.formData.iconPath||o.formData.iconType==="text"&&o.formData.title),X=()=>{var c;o.formData.url?((c=o.formData.iconPath)!=null&&c.includes("data:image")&&(o.formData.iconType="api",o.formData.iconPath=""),E.value=Oe(o.formData.url),fetch(`${bt}/api/title?url=${encodeURIComponent(o.formData.url.replace(/http(s)?:\/\//,""))}`).then(p=>p.json()).then(p=>{o.formData.title||(o.formData.title=p.title)})):E.value=""};yt(()=>E.value,c=>{c?$.value=!0:$.value=!1});const q=()=>{o.formData.iconType==="text"?o.formData.iconPath="rgba(48,50,56,1)":o.formData.iconPath="",o.formData.url&&o.formData.iconType==="api"&&(E.value=Oe(o.formData.url))},Ae=()=>{u.value.validate(async c=>{if(c){if(_.value=!0,o.formData.type==="icon")try{if(x.value&&o.formData.iconType==="api"&&E.value&&o.formData.url){const p=await Et(Oe(o.formData.url),"image/x-icon");o.formData.iconType="network",o.formData.iconPath=p}else o.formData.iconType==="api"&&E.value&&o.formData.url&&(o.formData.iconType="network",o.formData.iconPath=await xt(o.formData.url))}catch{He({title:M("\u63D0\u793A"),type:"error",message:M("\u65E0\u6CD5\u83B7\u53D6\u5230\u56FE\u6807\uFF0C\u4F7F\u7528\u6587\u5B57\u56FE\u6807\u4EE3\u66FF")}),o.formData.iconType="text",o.formData.iconPath="rgba(52,54,62,1)"}if(o.formData.type==="file"){if(!Y.value||Y.value.length===0)return;n("import",Ne(Y.value))}else o.formData.id?n("edit",{...JSON.parse(JSON.stringify(o.formData))},Ne(z.value)):(o.formData.id=$e(),n("add",{...JSON.parse(JSON.stringify(o.formData))},Ne(z.value)));_.value=!1,Ce()}else return!1})},ve=(c,p)=>{_.value=!1,c&&(o.formData={id:c.id,type:c.type,title:c.title,url:c.url,iconText:c.iconText,iconType:c.iconType,iconPath:c.iconPath,bgColor:c.bgColor,children:c.children||[]}),p&&(z.value=p),s.value=!0},me=()=>{u.value.resetFields(),E.value="",o.formData={id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},z.value=null,Y.value=[]},Ce=()=>{me(),s.value=!1},ge=B(),Y=B([]),Ee=()=>{ge.value.click(),ge.value.onchange=c=>{const p=()=>{He({title:M("\u5F02\u5E38"),type:"error",message:M("\u8BC6\u522B\u6587\u4EF6\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6")})},F=c.currentTarget;if(F){const{files:ce}=F,N=new FileReader;N.readAsText(ce[0],"UTF-8"),N.onload=re=>{var O;const ye=(O=re.target)==null?void 0:O.result;try{const ie=j(ye).children("dt").first().children("dl").children("dt"),P=[];ie.map((v,J)=>{if(j(J).children().length===1){const oe=j(J).children("a").text(),ae=j(J).children("a").attr("href"),l=j(J).children("a").attr("icon");P.push({title:oe,href:ae,icon:l})}else if(j(J).children().length===3){const oe=j(J).children("h3").text(),ae=[];j(J).children("dl").children("dt").map((l,d)=>{if(j(d).children().length===1){const r=j(d).children("a").text(),S=j(d).children("a").attr("href"),m=j(d).children("a").attr("icon");ae.push({title:r,href:S,icon:m})}}),P.push({title:oe,children:ae})}}),!P||P.length===0?p():Y.value=P}catch{p()}},N.onerror=()=>p()}}};return t({open:ve,close:me}),(c,p)=>{const F=G("el-radio"),ce=G("el-radio-group"),N=G("el-form-item"),re=G("el-input"),ye=G("Icon"),O=G("el-switch"),ie=G("el-form"),P=G("easy-dialog");return h(),ee(P,{modelValue:s.value,"onUpdate:modelValue":p[11]||(p[11]=v=>s.value=v),title:o.formData.id?c.$t("\u7F16\u8F91\u4E66\u7B7E"):c.$t("\u6DFB\u52A0\u4E66\u7B7E"),width:"min(480px, 98vw)",height:"min(520px, 90vh)",customClass:"bookmark-config-dialog",onClose:me},{footer:b(()=>[f("div",en,[f("button",{type:"button",class:"btn",onClick:Ce},D(c.$t("\u53D6\u6D88")),1),f("button",{type:"button",class:"btn btn-primary",loading:_.value,onClick:Ae},D(c.$t("\u786E\u8BA4")),9,tn)])]),default:b(()=>[y(ie,{ref_key:"form",ref:u,"label-width":"110px",model:o.formData,rules:o.formRules},{default:b(()=>[y(N,{label:c.$t("\u7C7B\u578B")},{default:b(()=>[y(ce,{modelValue:o.formData.type,"onUpdate:modelValue":p[0]||(p[0]=v=>o.formData.type=v),disabled:!!o.formData.id},{default:b(()=>[y(F,{label:"icon"},{default:b(()=>[ne(D(c.$t("\u56FE\u6807")),1)]),_:1}),y(F,{label:"folder",disabled:!!z.value},{default:b(()=>[ne(D(c.$t("\u6587\u4EF6\u5939")),1)]),_:1},8,["disabled"]),y(F,{label:"file",disabled:!!z.value},{default:b(()=>[ne(D(c.$t("\u4ECEChrome\u4E66\u7B7E\u5BFC\u5165")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),o.formData.type==="icon"?(h(),ee(N,{key:0,label:c.$t("\u7F51\u7AD9\u5730\u5740"),prop:"url"},{default:b(()=>[y(re,{modelValue:o.formData.url,"onUpdate:modelValue":p[1]||(p[1]=v=>o.formData.url=v),placeholder:c.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740"),onBlur:X},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),o.formData.type!=="file"?(h(),ee(N,{key:1,label:o.formData.type==="icon"?c.$t("\u7F51\u7AD9\u540D\u79F0"):c.$t("\u6587\u4EF6\u5939\u540D\u79F0"),prop:"title"},{default:b(()=>[y(re,{modelValue:o.formData.title,"onUpdate:modelValue":p[2]||(p[2]=v=>o.formData.title=v),placeholder:o.formData.type==="icon"?c.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u540D\u79F0"):c.$t("\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),o.formData.type==="icon"?(h(),g(W,{key:2},[y(N,{label:c.$t("\u7F51\u7AD9\u56FE\u6807"),prop:"iconType"},{default:b(()=>[y(ce,{modelValue:o.formData.iconType,"onUpdate:modelValue":p[3]||(p[3]=v=>o.formData.iconType=v),onChange:q},{default:b(()=>[(h(),g(W,null,he(i,v=>y(F,{label:v.value,key:v.value},{default:b(()=>[ne(D(c.$t(v.label)),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),o.formData.iconType==="network"?(h(),ee(N,{key:0,label:c.$t("\u56FE\u6807\u5730\u5740"),prop:"iconPath"},{default:b(()=>[y(re,{modelValue:o.formData.iconPath,"onUpdate:modelValue":p[4]||(p[4]=v=>o.formData.iconPath=v),placeholder:c.$t("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),o.formData.iconType==="text"?(h(),ee(N,{key:1,label:c.$t("\u6587\u672C\u989C\u8272"),prop:"iconPath"},{default:b(()=>[y(nt,{"show-alpha":"",modelValue:o.formData.iconPath,"onUpdate:modelValue":p[5]||(p[5]=v=>o.formData.iconPath=v)},null,8,["modelValue"])]),_:1},8,["label"])):k("",!0),o.formData.iconType==="text"?(h(),ee(N,{key:2,label:c.$t("\u56FE\u6807\u6587\u6848"),prop:"iconText"},{default:b(()=>[y(re,{modelValue:o.formData.iconText,"onUpdate:modelValue":p[6]||(p[6]=v=>o.formData.iconText=v),maxlength:"1",style:{width:"80px"}},null,8,["modelValue"]),f("span",Rt,D(c.$t("\u4EC5\u9650\u4E00\u4E2A\u5B57")),1)]),_:1},8,["label"])):k("",!0)],64)):k("",!0),o.formData.type!=="file"?(h(),g(W,{key:3},[y(N,{label:c.$t("\u80CC\u666F\u989C\u8272"),prop:"bgColor"},{default:b(()=>[y(nt,{"show-alpha":"",modelValue:o.formData.bgColor,"onUpdate:modelValue":p[7]||(p[7]=v=>o.formData.bgColor=v)},null,8,["modelValue"])]),_:1},8,["label"]),y(N,{label:c.$t("\u56FE\u6807\u9884\u89C8")},{default:b(()=>{var v;return[f("div",{class:"icon-img-preview-box",style:L({width:e.boxSize,height:e.boxSize,borderRadius:e.boxRadius,background:o.formData.bgColor})},[o.formData.type==="icon"&&U.value?(h(),g(W,{key:0},[o.formData.iconType==="network"?(h(),g("img",{key:0,src:o.formData.iconPath,style:L({width:e.iconSize,height:e.iconSize})},null,12,Ht)):k("",!0),o.formData.iconType==="api"&&E.value?(h(),g("img",{key:1,src:E.value,style:L({width:e.iconSize,height:e.iconSize}),onLoad:p[8]||(p[8]=J=>$.value=!1),onError:p[9]||(p[9]=J=>$.value=!1)},null,44,Ut)):k("",!0),o.formData.iconType==="text"?(h(),g("div",{key:2,style:L({fontSize:e.iconSize,color:o.formData.iconPath}),class:"no-icon"},D(o.formData.iconText||((v=o.formData.title)==null?void 0:v.slice(0,1))),5)):k("",!0),o.formData.iconType==="api"&&$.value?(h(),g("div",Jt,[y(ye,{name:"loader-2",size:e.iconSize,class:"infinty-loading"},null,8,["size"])])):k("",!0)],64)):k("",!0),o.formData.type==="folder"?(h(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(e.iconSize||"32").replace("px",""),height:(e.iconSize||"32").replace("px","")},Xt,8,Zt)):k("",!0)],4)]}),_:1},8,["label"])],64)):k("",!0),o.formData.type==="icon"?(h(),ee(N,{key:4,label:c.$t("\u7F13\u5B58\u56FE\u6807")},{default:b(()=>[y(O,{modelValue:x.value,"onUpdate:modelValue":p[10]||(p[10]=v=>x.value=v)},null,8,["modelValue"])]),_:1},8,["label"])):k("",!0),o.formData.type==="file"?(h(),ee(N,{key:5,label:c.$t("\u4E66\u7B7EHTML")},{default:b(()=>[f("button",{type:"button",class:"btn btn-warning",onClick:Ee},D(c.$t("\u5BFC\u5165\u6587\u4EF6")),1),f("input",{type:"file",accept:".html",style:{display:"none"},ref_key:"htmlRef",ref:ge},null,512),Y.value.length?(h(),g("div",Yt,D(c.$t("\u89E3\u6790\u4E66\u7B7E\u6587\u4EF6\u6210\u529F\uFF0C\u89E3\u6790\u7ED3\u679C\u5982\u4E0B")),1)):k("",!0),Y.value.length?(h(),g("div",Kt,[(h(!0),g(W,null,he(Y.value,(v,J)=>(h(),g(W,{key:J},[v.children?(h(),g("details",Qt,[f("summary",null,D(v.title),1),(h(!0),g(W,null,he(v.children,(oe,ae)=>(h(),g("div",{key:ae,class:"sub-title"},D(oe.title),1))),128))])):(h(),g("div",Gt,D(v.title),1))],64))),128))])):k("",!0)]),_:1},8,["label"])):k("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});var on=qe(nn,[["__scopeId","data-v-3723ff44"]]);const vt=e=>(je("data-v-7baa37b9"),e=e(),We(),e),an=vt(()=>f("div",{class:"folder-wrapper"},[f("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})]),f("div",{class:"folder-name"},"__ROOT__")],-1)),ln={class:"folder-wrapper"},rn=vt(()=>f("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})],-1)),un={class:"folder-name"},sn={class:"footer",style:{"text-align":"right",padding:"12px"}},cn=Ze({__name:"MoveDialog",props:{folderList:{type:Array,default:()=>[]}},setup(e,{expose:t}){const n=B(!1),i=B(!1);let s,u;const E=o=>(n.value=!0,i.value=!!o,new Promise((z,H)=>{s=z,u=H})),x=B("$root"),_=()=>{n.value=!1},$=()=>{u()},M=()=>{!x.value||(s(x.value),_())};return t({move:E}),(o,z)=>{const H=G("el-radio"),U=G("el-radio-group"),X=G("easy-dialog");return h(),ee(X,{modelValue:n.value,"onUpdate:modelValue":z[1]||(z[1]=q=>n.value=q),title:o.$t("\u9009\u62E9\u6587\u4EF6\u5939"),width:"min(280px, 90vw)",height:"min(320px, 60vh)",onClose:$,customWrapperClass:"bookmark-config-dialog"},{footer:b(()=>[f("div",sn,[f("button",{type:"button",class:"btn",onClick:_},D(o.$t("\u53D6\u6D88")),1),f("button",{type:"button",class:"btn btn-primary",onClick:M},D(o.$t("\u786E\u8BA4")),1)])]),default:b(()=>[y(U,{modelValue:x.value,"onUpdate:modelValue":z[0]||(z[0]=q=>x.value=q)},{default:b(()=>[i.value?(h(),ee(H,{key:0,label:"$root"},{default:b(()=>[an]),_:1})):k("",!0),(h(!0),g(W,null,he(e.folderList,q=>(h(),ee(H,{label:q.id,key:q.id},{default:b(()=>[f("div",ln,[rn,f("div",un,D(q.title),1)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}});var fn=qe(cn,[["__scopeId","data-v-7baa37b9"]]);const mt=e=>(je("data-v-779cb7a6"),e=e(),We(),e),dn=["onClick"],hn=["src"],pn=["width","height"],vn=mt(()=>f("path",{d:"M853.333333 256H469.333333l-85.333333-85.333333H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333333v170.666667h853.333334v-85.333334c0-46.933333-38.4-85.333333-85.333334-85.333333z",fill:"#FFD766"},null,-1)),mn=mt(()=>f("path",{d:"M853.333333 256H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333333v426.666667c0 46.933333 38.4 85.333333 85.333334 85.333333h682.666666c46.933333 0 85.333333-38.4 85.333334-85.333333V341.333333c0-46.933333-38.4-85.333333-85.333334-85.333333z",fill:"#FFAC33"},null,-1)),gn=[vn,mn],yn={class:"tile-title"},bn={key:0,class:"selected-icon"},kn={class:"btn-add-wrapper"},wn={key:0,class:"popover-wrapper"},Dn={class:"title"},Sn=["onClick"],Cn=["src"],En={key:0,class:"selected-icon"},xn={key:0,class:"batch-operation-wrapper"},Fn={class:"selected-count"},_n={class:"num"},$n={class:"operation-btn-wrapper"},Tn={key:0,class:"batch-operation-wrapper"},Bn={class:"selected-count"},zn={class:"num"},An={class:"operation-btn-wrapper"},Vn=Ze({__name:"index",props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0},isAction:{type:Boolean,default:!1}},setup(e){const t=e;kt(l=>({"059852e7":z.value,"24cb30d3":H.value,"39f70b42":x.value,d39c68da:_.value,"535e7004":$.value,"10f08c27":M.value,"2c98e78c":o.value}));const n={...Qe,updated:Qe.mounted},{t:i}=ct(),s=B(),u=B(),E=Q(()=>U.isLock),x=Q(()=>t.componentSetting.boxSize+"px"),_=Q(()=>t.componentSetting.boxRadius+"px"),$=Q(()=>t.componentSetting.iconSize+"px"),M=Q(()=>t.componentSetting.textFontSize+"px"),o=Q(()=>t.componentSetting.textColor),z=Q(()=>t.componentSetting.padding+"px"),H=Q(()=>`${t.componentSetting.boxSize+t.componentSetting.textFontSize*1.5+t.componentSetting.padding*2+8}px`),U=wt(),X=Q({get:()=>t.componentSetting.bookmark,set:l=>{const d=JSON.parse(JSON.stringify(t.element));t.isAction?(d.componentSetting.actionClickValue.componentSetting.bookmark=l,U.updateActionElement(d)):d.componentSetting.bookmark=l,U.editComponent(d)}}),q=B([{label:l=>l.element.title,customClass:"title"},{label:()=>i("\u65B0\u6807\u7B7E\u9875\u6253\u5F00"),customClass:"skip-icon",fn:l=>{window.open(l.element.url)},hidden:l=>l.element.type==="folder"},{label:()=>i("IFrame\u7A97\u53E3\u6253\u5F00"),customClass:"skip-icon",fn:l=>{u.value.open(l.element.url)},hidden:l=>l.element.type==="folder"},{line:!0,hidden:l=>l.element.type==="folder"},{label:()=>i("\u6DFB\u52A0"),icon:be(R,{name:"add",size:18}),fn:l=>{ve(l.parent)}},{label:()=>i("\u7F16\u8F91"),icon:be(R,{name:"lock",size:18}),fn:l=>{Ae(l.element,l.parent)}},{label:()=>i("\u79FB\u52A8"),icon:be(R,{name:"send-plane",size:18}),fn:l=>{p([l.element],!1,l.parent)},hidden:l=>l.element.type==="folder"},{label:()=>i("\u5220\u9664"),icon:be(R,{name:"delete",size:18}),fn:l=>{p([l.element],!0,l.parent)},customClass:"delete"},{line:!0},{label:()=>i("\u6279\u91CF\u64CD\u4F5C"),icon:be(R,{name:"checkbox-multiple",size:18}),fn:l=>{J(l.parent)}}]),Ae=(l,d)=>s.value.open(l,d),ve=l=>s.value.open(null,l),me=(l,d)=>{const r=JSON.parse(JSON.stringify(t.element)),S=t.isAction?r.componentSetting.actionClickValue.componentSetting.bookmark:r.componentSetting.bookmark;if(d){const m=S.findIndex(T=>T.id===d.id);~m&&S[m].children.push(l)}else S.push(l);U.editComponent(r),d&&N()},Ce=async(l,d)=>{const r=JSON.parse(JSON.stringify(t.element)),S=t.isAction?r.componentSetting.actionClickValue.componentSetting.bookmark:r.componentSetting.bookmark;if(d){const m=S.findIndex(A=>A.id===d.id);if(!~m)return;const T=S[m].children.findIndex(A=>A.id===l.id);~T&&(S[m].children[T]=l)}else{const m=S.findIndex(T=>T.id===l.id);~m&&(S[m]=l)}U.editComponent(r),d&&N()},ge=l=>{const d=l.map(m=>m.children?(m.children=m.children.map(T=>({bgColor:"rgba(241, 243, 244, 1)",iconPath:T.icon||"rgba(48,50,56,1)",iconType:T.icon?"network":"text",id:$e(),title:T.title,type:"icon",url:T.href})),{bgColor:"rgba(241, 243, 244, 1)",children:m.children,iconPath:"",iconType:"api",id:$e(),title:m.title,type:"folder",url:""}):{bgColor:"rgba(241, 243, 244, 1)",children:[],iconPath:m.icon||"rgba(48,50,56,1)",iconType:m.icon?"network":"text",id:$e(),title:m.title,type:"icon",url:m.href}),r=JSON.parse(JSON.stringify(t.element));(t.isAction?r.componentSetting.actionClickValue.componentSetting.bookmark:r.componentSetting.bookmark).push(...d),U.editComponent(r)},Y=(l,d)=>{if(O.value){const r=v.value.findIndex(S=>S===l.id);~r?(P.value.splice(r,1),v.value.splice(r,1)):(P.value.push(l),v.value.push(l.id))}else if(l.type==="icon"){let r=l.url;/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(r)||(r="https://"+r),t.componentSetting.jumpType===3?u.value.open(r,d.currentTarget):t.componentSetting.jumpType===2?window.location.href=r:window.open(r)}else l.type==="folder"&&(ce.value.defaultOpen({w:Math.min(720,window.innerWidth*.9),h:Math.min(400,window.innerHeight*.75),direction:0},d.currentTarget),F.value=l)},Ee=B(),c=Q(()=>X.value.filter(l=>l.type==="folder")),p=async(l,d=!1,r)=>{if(!(!l||l.length===0))try{const S=JSON.parse(JSON.stringify(t.element)),m=t.isAction?S.componentSetting.actionClickValue.componentSetting.bookmark:S.componentSetting.bookmark;if(d){if(!confirm(i("\u786E\u8BA4\u8981\u5220\u9664\u6240\u9009\u9879?")))return}else{const T=await Ee.value.move(r);if(T===(r==null?void 0:r.id))return;if(l.filter(A=>A.type==="folder").length&&(He({title:i("\u63D0\u793A"),message:i("\u76EE\u524D\u6682\u4E0D\u652F\u6301\u79FB\u52A8\u6587\u4EF6\u5939")}),l=l.filter(A=>A.type!=="folder")),T==="$root")l.map(A=>{~m.findIndex(K=>K.id===A.id)||m.push(A)});else{const A=m.findIndex(K=>K.id===T);~A&&l.map(K=>{~m[A].children.findIndex(Ve=>Ve.id===K.id)||m[A].children.push(K)})}}if(r){const T=m.findIndex(A=>A.id===r.id);l.map(A=>{const K=m[T].children.findIndex(Ve=>Ve.id===A.id);~K&&m[T].children.splice(K,1)})}else l.map(T=>{const A=m.findIndex(K=>K.id===T.id);~A&&m.splice(A,1)});t.isAction&&U.updateActionElement(S),U.editComponent(S),r&&N(),O.value&&(O.value=!1,P.value=[],v.value=[])}catch(S){console.error(S),console.log("Cancel Move")}},F=B(),ce=B(),N=async()=>{await Dt();const l=X.value.findIndex(d=>{var r;return d.id===((r=F.value)==null?void 0:r.id)});~l&&(F.value=X.value[l])},re=()=>{var S;const l=JSON.parse(JSON.stringify(t.element)),d=t.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark,r=X.value.findIndex(m=>{var T;return m.id===((T=F.value)==null?void 0:T.id)});d[r].children=(S=F.value)==null?void 0:S.children,U.editComponent(l)},ye=()=>{F.value=null},O=B(!1),ie=B(),P=B([]),v=B([]),J=l=>{O.value=!0,ie.value=l},oe=()=>{O.value=!1,P.value.length=0,v.value.length=0},ae=l=>{O.value&&(oe(),l.preventDefault(),document.oncontextmenu=d=>d.preventDefault())};return St(()=>document.addEventListener("contextmenu",ae)),Ct(()=>document.removeEventListener("contextmenu",ae)),(l,d)=>(h(),g("div",{class:"wrapper material-bookmark",style:L({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily})},[f("div",{class:"bookmark-wrapper",style:L({maxWidth:`${e.componentSetting.maxWidth||880}px`,pointerEvents:E.value?"all":"none"})},[y(et(tt),{modelValue:X.value,"onUpdate:modelValue":d[1]||(d[1]=r=>X.value=r),class:"bookmark-draggable-wrapper","item-key":"id"},{item:b(({element:r,index:S})=>[xe((h(),g("div",{class:Fe(["item"]),onClick:m=>Y(r,m)},[f("div",{class:Fe(["tile-icon",O.value&&!ie.value&&"bounce-icon"]),style:L({background:r.bgColor,boxShadow:e.componentSetting.boxShadow})},[r.type!=="folder"?(h(),g(W,{key:0},[r.iconType==="network"?(h(),g("img",{key:0,src:r.iconPath,alt:""},null,8,hn)):k("",!0),r.iconType==="text"?(h(),g("div",{key:1,style:L({fontSize:$.value,color:r.iconPath}),class:"no-icon"},D(r.iconText||r.title.slice(0,1)),5)):k("",!0)],64)):(h(),g("svg",{key:1,viewBox:"0 0 1024 1024",width:($.value||"32").replace("px",""),height:($.value||"32").replace("px","")},gn,8,pn))],6),f("div",yn,D(r.title),1),v.value.includes(r.id)?(h(),g("div",bn,[y(R,{name:"check",size:"30"})])):k("",!0)],8,dn)),[[n,{disabled:()=>O.value,params:{element:r,index:S},menuList:q.value,width:160,iconType:"vnode-icon"}]])]),footer:b(()=>[O.value?k("",!0):xe((h(),g("div",{key:0,class:"item btn-add-item",onClick:d[0]||(d[0]=r=>ve())},[f("div",kn,[y(R,{name:"add"})])],512)),[[Ge,!e.componentSetting.hiddenAddBtn||X.value.length===0]]),(h(),g(W,null,he(20,r=>f("div",{class:"item fake",key:r})),64))]),_:1},8,["modelValue"])],4),y(on,{ref_key:"configDialog",ref:s,boxSize:x.value,boxRadius:_.value,iconSize:$.value,onAdd:me,onEdit:Ce,onImport:ge},null,8,["boxSize","boxRadius","iconSize"]),y(fn,{ref_key:"moveDialog",ref:Ee,folderList:c.value},null,8,["folderList"]),y(Ft,{ref_key:"popover",ref:ce,"close-on-click-outside":!!e.componentSetting.closeClickOutside,onClosed:ye,zIndex:1e3},{default:b(()=>[F.value?(h(),g("div",wn,[f("div",Dn,D(F.value.title),1),y(et(tt),{modelValue:F.value.children,"onUpdate:modelValue":d[3]||(d[3]=r=>F.value.children=r),class:"bookmark-draggable-wrapper","item-key":"id",onEnd:re},{item:b(({element:r,index:S})=>[xe((h(),g("div",{class:Fe(["item"]),style:L({width:H.value,height:H.value,padding:z.value}),onClick:m=>Y(r)},[f("div",{class:Fe(["tile-icon",O.value&&ie.value&&"bounce-icon"]),style:L({background:r.bgColor,boxShadow:e.componentSetting.boxShadow,width:x.value,height:x.value,borderRadius:_.value})},[r.type!=="folder"?(h(),g(W,{key:0},[r.iconType==="network"?(h(),g("img",{key:0,style:L({width:$.value,height:$.value}),src:r.iconPath,alt:""},null,12,Cn)):k("",!0),r.iconType==="text"?(h(),g("div",{key:1,style:L({fontSize:$.value,color:r.iconPath}),class:"no-icon"},D(r.iconText||r.title.slice(0,1)),5)):k("",!0)],64)):k("",!0)],6),f("div",{class:"tile-title",style:L({fontSize:M.value,color:o.value})},D(r.title),5),v.value.includes(r.id)?(h(),g("div",En,[y(R,{name:"check",size:"30"})])):k("",!0)],12,Sn)),[[n,{params:{element:r,index:S,parent:F.value},menuList:q.value,width:160,iconType:"vnode-icon"}]])]),footer:b(()=>[O.value?k("",!0):xe((h(),g("div",{key:0,class:"item btn-add-item",style:L({width:H.value,height:H.value,padding:z.value}),onClick:d[2]||(d[2]=r=>ve(F.value))},[f("div",{class:"btn-add-wrapper",style:L({color:o.value,border:`2px dashed ${o.value}`})},[y(R,{name:"add"})],4)],4)),[[Ge,!e.componentSetting.hiddenAddBtn||F.value.children&&F.value.children.length===0]]),(h(),g(W,null,he(20,r=>f("div",{class:"item fake",style:L({width:H.value,padding:`0 ${z.value}`}),key:r},null,4)),64))]),_:1},8,["modelValue"]),O.value&&ie.value?(h(),g("div",xn,[f("div",{class:"close-btn",onClick:oe},[y(R,{name:"close"})]),f("div",Fn,[f("span",_n,D(P.value.length),1),ne(D(l.$t("\u9879\u5DF2\u9009\u62E9")),1)]),f("div",$n,[f("div",{class:"move-btn",onClick:d[4]||(d[4]=r=>p(P.value,!1,F.value))},[y(R,{name:"send-plane",size:"16"}),ne(" "+D(l.$t("\u79FB\u52A8")),1)]),f("div",{class:"del-btn",onClick:d[5]||(d[5]=r=>p(P.value,!0,F.value))},[y(R,{name:"delete",size:"16"}),ne(" "+D(l.$t("\u5220\u9664")),1)])])])):k("",!0)])):k("",!0)]),_:1},8,["close-on-click-outside"]),O.value&&!ie.value?(h(),g("div",Tn,[f("div",{class:"close-btn",onClick:oe},[y(R,{name:"close"})]),f("div",Bn,[f("span",zn,D(P.value.length),1),ne(D(l.$t("\u9879\u5DF2\u9009\u62E9")),1)]),f("div",An,[f("div",{class:"move-btn",onClick:d[6]||(d[6]=r=>p(P.value))},[y(R,{name:"send-plane",size:"16"}),ne(" "+D(l.$t("\u79FB\u52A8")),1)]),f("div",{class:"del-btn",onClick:d[7]||(d[7]=r=>p(P.value,!0))},[y(R,{name:"delete",size:"16"}),ne(" "+D(l.$t("\u5220\u9664")),1)])])])):k("",!0),y(_t,{ref_key:"iframeOpener",ref:u},null,512)],4))}});var Hn=qe(Vn,[["__scopeId","data-v-779cb7a6"]]);export{Hn as default};
