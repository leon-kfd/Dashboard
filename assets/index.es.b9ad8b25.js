import{h as g,j as h,V as x,o as b,X as m,Y as P,Z as S}from"./index.d766248b.js";import"./index.4aed44bb.js";import"./color.556e4bcb.js";const l=e=>{if(!e)return!1;if(Array.isArray(e))return e.length>1?!1:l(e[0]);const r=e.content;return r?l(r):e.type==="text"},y=g(()=>({prosePlugins:(e,r)=>{const d=r.get(h);return r.update(x,t=>{var n;return{editable:(n=t.editable)!=null?n:()=>!0}}),[new b({props:{handlePaste:(t,n)=>{var s,a;const c=r.get(m),f=(a=(s=t.props).editable)==null?void 0:a.call(s,t.state),{clipboardData:o}=n;if(!f||!o)return!1;const u=o.getData("text/plain");if(o.getData("text/html").length>0||u.length===0)return!1;const i=c(u);if(!i||typeof i=="string")return!1;const p=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new P(i.content,p.openStart,p.openEnd))),!0},clipboardTextSerializer:t=>{const n=r.get(S);if(l(t.content.toJSON()))return t.content.textBetween(0,t.content.size,`

`);const a=d.topNodeType.createAndFill(void 0,t.content);return a?n(a):""}}})]}})),D=y();export{D as clipboard,y as clipboardPlugin};
