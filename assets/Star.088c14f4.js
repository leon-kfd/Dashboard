import{_ as c,d as u,r as f,x as m,y as v,o as x,h as M}from"./index.4ae8f6da.js";class n{constructor(t,s,i,h){this.ctx=t,this.id=s,this.x=i,this.y=h,this.r=Math.floor(Math.random()*2)+1;const o=(Math.floor(Math.random()*10)+1)/10/2;this.color="rgba(255,255,255,"+o+")"}draw(){this.ctx.fillStyle=this.color,this.ctx.shadowBlur=this.r*2,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()}move(){this.y-=.15,this.y<=-10&&(this.y=window.innerHeight+10),this.draw()}}class d{constructor(t,s,i,h,o,r){this.maxLinks=2,this.speed=.5,this.a=.6,this.aReduction=.005,this.ctx=t,this.dots=s,this.id=i,this.x=h,this.y=o,this.r=r||Math.floor(Math.random()*3)+1,this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/8+")",this.dir=Math.floor(Math.random()*140)+200}draw(){this.ctx.fillStyle=this.color,this.ctx.shadowBlur=this.r*2,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()}link(){if(this.id===0)return;const t=this.getPreviousDot(this.id,1),s=this.getPreviousDot(this.id,2),i=this.getPreviousDot(this.id,3);!t||(this.ctx.strokeStyle=this.linkColor,this.ctx.moveTo(t.x,t.y),this.ctx.beginPath(),this.ctx.lineTo(this.x,this.y),s&&this.ctx.lineTo(s.x,s.y),i&&this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),this.ctx.closePath())}move(){if(this.a-=this.aReduction,this.a<=0){this.die();return}this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.x=this.x+Math.cos(l(this.dir))*this.speed,this.y=this.y+Math.sin(l(this.dir))*this.speed,this.draw(),this.link()}die(){this.dots[this.id]=null,delete this.dots[this.id]}getPreviousDot(t,s){return t===0||t-s<0?null:this.dots[t-s]?this.dots[t-s]:null}}class g{constructor(t){this.starNum=80,this.width=0,this.height=0,this.mouseMoving=!1,this.mouseX=0,this.mouseY=0,this.dotsMinDist=2,this.maxDistFromCursor=40,this.timer=null,this.mouseMoveChecker=null,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.stars=[],this.dots=[]}start(){this.ctx.strokeStyle="#fff",this.ctx.shadowColor="#fff",this.width=this.canvas.offsetWidth,this.height=this.canvas.offsetHeight,this.canvas.setAttribute("width",this.width+""),this.canvas.setAttribute("height",this.height+"");for(let t=0;t<this.starNum;t++)this.stars[t]=new n(this.ctx,t,Math.floor(Math.random()*this.width),Math.floor(Math.random()*this.height));this.ctx.shadowBlur=0,this.animate(),window.addEventListener("resize",this.resize.bind(this)),window.addEventListener("mousemove",this.onMove.bind(this))}destroy(){window.removeEventListener("resize",this.resize.bind(this))}animate(){this.ctx.clearRect(0,0,this.width,this.height),this.stars.map(t=>t.move()),this.dots.map(t=>t.move()),this.drawIfMouseMoving(),requestAnimationFrame(this.animate.bind(this))}resize(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{for(let t=0;t<this.starNum;t++)this.stars[t]=new n(this.ctx,t,Math.floor(Math.random()*this.width),Math.floor(Math.random()*this.height));this.width=this.canvas.offsetWidth,this.height=this.canvas.offsetHeight,this.canvas.setAttribute("width",this.width+""),this.canvas.setAttribute("height",this.height+"")},200)}onMove(t){this.mouseMoving=!0,this.mouseX=t.clientX,this.mouseY=t.clientY,this.mouseMoveChecker&&clearInterval(this.mouseMoveChecker),this.mouseMoveChecker=setTimeout(()=>{this.mouseMoving=!1},100)}drawIfMouseMoving(){if(!this.mouseMoving)return;if(this.dots.length===0){this.dots[0]=new d(this.ctx,this.dots,0,this.mouseX,this.mouseY),this.dots[0].draw();return}const t=this.getPreviousDot(this.dots.length,1),s=t?t.x:0,i=t?t.y:0,h=Math.abs(s-this.mouseX),o=Math.abs(i-this.mouseY);if(h<this.dotsMinDist||o<this.dotsMinDist)return;let r=Math.random()>.5?-1:1;r=r*Math.floor(Math.random()*this.maxDistFromCursor)+1;let a=Math.random()>.5?-1:1;a=a*Math.floor(Math.random()*this.maxDistFromCursor)+1,this.dots[this.dots.length]=new d(this.ctx,this.dots,this.dots.length,this.mouseX+r,this.mouseY+a),this.dots[this.dots.length-1].draw(),this.dots[this.dots.length-1].link()}getPreviousDot(t,s){return t===0||t-s<0?null:this.dots[t-s]?this.dots[t-s]:null}}function l(e){return e*(Math.PI/180)}const w=u({__name:"Star",setup(e){const t=f();let s;return m(()=>{s=new g(t.value),s.start()}),v(()=>{s.destroy()}),(i,h)=>(x(),M("canvas",{class:"bg-effect-canvas",ref_key:"bgEffectCanvas",ref:t},null,512))}});var _=c(w,[["__scopeId","data-v-1666269e"]]);export{_ as default};
