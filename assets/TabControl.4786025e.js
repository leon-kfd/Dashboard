import{_ as F,d as L,u as N,H as h,J as V,z as x,a1 as y,e as c,o as r,k as b,h as n,t as i,i as o,F as E,n as A,R as J,g as m,m as B}from"./index.519727c3.js";const I={class:"wrapper"},O={class:"title"},K={class:"content"},R={class:"list-wrapper"},z=["data-idx"],U=["onDblclick"],j={class:"operation-wrapper"},H={key:0,class:"operation btn btn-small btn-info",disabled:""},M=["onClick"],q=["onClick"],G={class:"btn-add-wrapper"},P={class:"title",style:{"margin-top":"20px"}},Q={class:"content"},W={class:"flex-center-y",style:{height:"100%"}},X={class:"flex-center-y",style:{height:"100%"}},Y=L({__name:"TabControl",setup(Z){const s=N(),u=h(()=>s.tabList),{t:_}=V();x(()=>{if(!u.value||u.value.length===0){const t=[{id:y(),selected:!0}];s.updateTabList(t)}});const T=t=>{const e=window.prompt(_("\u91CD\u547D\u540D\u6807\u7B7E\u9875"));if(e){const l=JSON.parse(JSON.stringify(u.value)),d=l.findIndex(p=>p.id===t);~d&&(l[d].name=e,s.updateTabList(l))}},S=()=>{const t={id:y(),data:{list:[],affix:[],global:{background:"#242428",backgroundFilter:"brightness(0.8)",gutter:10,css:"",js:"",globalFontFamily:"",siteTitle:""},showBackgroundEffect:!1,showRefreshBtn:!0}},e=JSON.parse(JSON.stringify(u.value));if(e.length>6){alert(_("\u6807\u7B7E\u9875\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u65E0\u6CD5\u6DFB\u52A0"));return}e.push(t),s.updateTabList(e)},k=t=>{if(window.confirm(_("\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D, \u786E\u8BA4\u8981\u5220\u9664\u8BE5\u6807\u7B7E\u9875?"))){const e=JSON.parse(JSON.stringify(u.value)),l=e.findIndex(d=>d.id===t);~l&&(e.splice(l,1),s.updateTabList(e))}},D=t=>{s.updateTabSelected(t)},f=h({get:()=>s.showTabSwitchBtn,set:t=>{s.updateState({key:"showTabSwitchBtn",value:t})}}),v=h({get:()=>s.enableKeydownSwitchTab,set:t=>{s.updateState({key:"enableKeydownSwitchTab",value:t})}});return(t,e)=>{const l=c("el-alert"),d=c("Icon"),p=c("el-switch"),w=c("el-form-item"),C=c("el-form");return r(),b("div",I,[n("div",O,i(t.$t("\u591A\u9875\u8BBE\u7F6E")),1),n("div",K,[o(l,{title:t.$t("tabsTips"),type:"warning",closable:!1,style:{"margin-bottom":"8px"}},null,8,["title"]),n("div",R,[(r(!0),b(E,null,A(u.value,(a,$)=>(r(),b("div",{class:"item",key:a.id,"data-idx":$+1},[n("div",{class:"name",onDblclick:g=>T(a.id)},i(a.name||t.$t("\u672A\u547D\u540D")),41,U),n("div",j,[a.selected?(r(),b("button",H,i(t.$t("\u5F53\u524D\u5E94\u7528")),1)):(r(),b(E,{key:1},[n("button",{class:"operation btn btn-small btn-warning",onClick:g=>D(a.id)},i(t.$t("\u5E94\u7528")),9,M),n("button",{class:"operation btn btn-small btn-danger",style:{"margin-left":"10px"},onClick:g=>k(a.id)},i(t.$t("\u5220\u9664")),9,q)],64))])],8,z))),128)),n("div",G,[n("button",{class:"btn btn-primary",onClick:S},[o(d,{name:"add",size:"1.2em",style:{"margin-right":"4px"}}),J(" "+i(t.$t("\u65B0\u589E")),1)])])])]),n("div",P,i(t.$t("\u5176\u4ED6\u8BBE\u7F6E")),1),n("div",Q,[o(C,{"label-width":"110px"},{default:m(()=>[o(w,{label:t.$t("\u5C55\u793A\u5207\u6362\u6309\u94AE")},{default:m(()=>[n("div",W,[o(p,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a)},null,8,["modelValue"]),o(B,{content:t.$t("tabsSwitchBtnTips")},null,8,["content"])])]),_:1},8,["label"]),o(w,{label:t.$t("\u65B9\u5411\u952E\u5207\u6362")},{default:m(()=>[n("div",X,[o(p,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a)},null,8,["modelValue"]),o(B,{content:t.$t("tabsKeyboardSwitchTips")},null,8,["content"])])]),_:1},8,["label"])]),_:1})])])}}});var et=F(Y,[["__scopeId","data-v-21ed7da4"]]);export{et as default};
