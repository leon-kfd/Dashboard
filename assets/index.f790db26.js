var g=Object.defineProperty;var r=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var l=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))y.call(t,n)&&l(e,n,t[n]);return e};import{_ as w,u as h,m as k,e as C}from"./index.06538ee4.js";import{h as A,r as m,K as u,o as x,a as E,i as I,e as T,g as $,E as j,A as d,O as D,b as F}from"./vendor.0ec422ce.js";const _=A({name:"Verse",props:{componentSetting:{type:Object,required:!0}},setup(e){const t=m(""),n=m(),c=h();async function s(){try{const a=await fetch("https://v1.jinrishici.com/all.json"),{content:S}=await a.json();t.value=S}catch{}}let o;const i=()=>{const a=(e.componentSetting.duration||5)*60*1e3;o&&(window.clearInterval(o),o=null),o=window.setInterval(s,a)};u(()=>e.componentSetting.duration,()=>i(),{immediate:!0}),x(()=>s()),E(()=>o&&window.clearInterval(o));const f=I(()=>k(e.componentSetting.position));return u(()=>t.value,()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400)}),{verse:t,positionCSS:f,verseElement:n,handleClickAction:()=>{e.componentSetting.clickActionType===1?(s(),i()):e.componentSetting.clickActionType===2?window.open(`https://hanyu.baidu.com/s?wd=${encodeURIComponent(t.value)}`):e.componentSetting.clickActionType===3&&C(t.value)&&D({title:"\u63D0\u793A",type:"success",message:"\u590D\u5236\u6210\u529F"})},contextmenu:a=>{c.isLock&&a.stopPropagation()}}}});function b(e,t,n,c,s,o){return F(),T("div",{class:"wrapper",ref:"verseElement",style:d(p({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},e.positionCSS))},[$("span",{style:d(e.componentSetting.clickActionType?"cursor: pointer":""),onClick:t[0]||(t[0]=(...i)=>e.handleClickAction&&e.handleClickAction(...i)),onContextmenu:t[1]||(t[1]=(...i)=>e.contextmenu&&e.contextmenu(...i))},j(e.verse),37)],4)}var P=w(_,[["render",b],["__scopeId","data-v-3630920a"]]);export{P as default};
