import{_ as f,d as S,r as l,u as v,J as g,w as p,z as y,A as w,H as h,I as k,o as C,k as A,h as I,t as x,D as u,K as D,L as T}from"./index.519727c3.js";const $=S({name:"Verse",props:{componentSetting:{type:Object,required:!0}},setup(e){const t=l(""),o=l(),c=v(),{t:s}=g();async function a(){try{const i=await fetch("https://v1.jinrishici.com/all.json"),{content:d}=await i.json();t.value=d}catch{}}let n;const r=()=>{const i=(e.componentSetting.duration||5)*60*1e3;n&&(window.clearInterval(n),n=null),n=window.setInterval(a,i)};p(()=>e.componentSetting.duration,()=>r(),{immediate:!0}),y(()=>a()),w(()=>n&&window.clearInterval(n));const m=h(()=>k(e.componentSetting.position));return p(()=>t.value,()=>{o.value&&o.value.animate&&o.value.animate({opacity:[0,1]},400)}),{verse:t,positionCSS:m,verseElement:o,handleClickAction:()=>{e.componentSetting.clickActionType===1?(a(),r()):e.componentSetting.clickActionType===2?window.open(`https://hanyu.baidu.com/s?wd=${encodeURIComponent(t.value)}`):e.componentSetting.clickActionType===3&&D(t.value)&&T({title:s("\u63D0\u793A"),type:"success",message:s("\u590D\u5236\u6210\u529F")})},contextmenu:i=>{c.isLock&&i.stopPropagation()}}}});function j(e,t,o,c,s,a){return C(),A("div",{class:"wrapper material-verse",ref:"verseElement",style:u({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily,...e.positionCSS})},[I("span",{style:u(e.componentSetting.clickActionType?"cursor: pointer":""),onClick:t[0]||(t[0]=(...n)=>e.handleClickAction&&e.handleClickAction(...n)),onContextmenu:t[1]||(t[1]=(...n)=>e.contextmenu&&e.contextmenu(...n))},x(e.verse),37)],4)}var _=f($,[["render",j],["__scopeId","data-v-b86992d2"]]);export{_ as default};
