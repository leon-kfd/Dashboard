import{d as i}from"./index.561fee4b.js";function h(a,o="image/png",t,n){return new Promise((c,p)=>{const e=new XMLHttpRequest;e.open("GET",a,!0),e.responseType="arraybuffer",n&&(e.timeout=n),e.onload=()=>{if(e.status===200){const r=new Uint8Array(e.response);let s=r.length;const l=new Array(s);for(;s--;)l[s]=String.fromCharCode(r[s]);const u=l.join(""),f=window.btoa(u),d="data:"+(o||"image/png")+";base64,"+f;c(d)}},e.onerror=r=>{p(r)},e.onprogress=r=>{t&&t(r)},n&&(e.ontimeout=r=>{e.abort(),p(r)}),e.send()})}function y(a,o="redirect",t=!1){let n=`${i}/api/icon?url=${encodeURIComponent(a.replace(/http(s)?:\/\//,""))}`;return o==="source"&&(n+="&type=source"),t&&(n+="&disabledCache=1"),n}async function b(a,o=!1){let t=`${i}/api/icon?url=${encodeURIComponent(a.replace(/http(s)?:\/\//,""))}`;return o&&(t+="&disabledCache=1"),t+="&type=link",await(await fetch(t)).text()}function m(a){return`${i}/api/icon/v2?url=${encodeURIComponent(a.replace(/http(s)?:\/\//,""))}`}export{m as a,h as b,b as c,y as g};
