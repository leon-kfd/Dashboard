import{_ as x,d as N,u as V,G as f,I as A,x as I,a3 as E,o as c,h as r,e as n,t as i,f as o,F as B,j as J,k as w,Q as O,b as v,a7 as T,T as S,p as b}from"./index.7cf31232.js";const K={class:"wrapper"},R={class:"title"},j={class:"content"},U={class:"list-wrapper"},z=["data-idx"],G=["onDblclick"],M={class:"operation-wrapper"},Q={key:0,class:"operation btn btn-small btn-info",disabled:""},q=["onClick"],H=["onClick"],P={class:"btn-add-wrapper"},W={class:"title",style:{"margin-top":"20px"}},X={class:"content"},Y={class:"flex-center-y",style:{height:"100%"}},Z={class:"flex-center-y",style:{height:"100%"}},tt=N({__name:"TabControl",setup(et){const s=V(),u=f(()=>s.tabList),{t:_}=A();I(()=>{if(!u.value||u.value.length===0){const t=[{id:E(),selected:!0}];s.updateTabList(t)}});const k=t=>{const e=window.prompt(_("\u91CD\u547D\u540D\u6807\u7B7E\u9875"));if(e){const l=JSON.parse(JSON.stringify(u.value)),d=l.findIndex(p=>p.id===t);~d&&(l[d].name=e,s.updateTabList(l))}},D=()=>{const t={id:E(),data:{list:[],affix:[],global:{background:"#242428",backgroundFilter:"brightness(0.8)",gutter:10,css:"",js:"",globalFontFamily:"",siteTitle:""},showBackgroundEffect:!1,showRefreshBtn:!0}},e=JSON.parse(JSON.stringify(u.value));if(e.length>6){alert(_("\u6807\u7B7E\u9875\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u65E0\u6CD5\u6DFB\u52A0"));return}e.push(t),s.updateTabList(e)},C=t=>{if(window.confirm(_("\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D, \u786E\u8BA4\u8981\u5220\u9664\u8BE5\u6807\u7B7E\u9875?"))){const e=JSON.parse(JSON.stringify(u.value)),l=e.findIndex(d=>d.id===t);~l&&(e.splice(l,1),s.updateTabList(e))}},$=t=>{s.updateTabSelected(t)},h=f({get:()=>s.showTabSwitchBtn,set:t=>{s.updateState({key:"showTabSwitchBtn",value:t})}}),m=f({get:()=>s.enableKeydownSwitchTab,set:t=>{s.updateState({key:"enableKeydownSwitchTab",value:t})}});return(t,e)=>{const l=b("el-alert"),d=b("Icon"),p=b("el-switch"),g=b("el-form-item"),F=b("el-form");return c(),r("div",K,[n("div",R,i(t.$t("\u591A\u9875\u8BBE\u7F6E")),1),n("div",j,[o(l,{title:t.$t("tabsTips"),type:"warning",closable:!1,style:{"margin-bottom":"8px"}},null,8,["title"]),n("div",U,[(c(!0),r(B,null,J(w(u),(a,L)=>(c(),r("div",{class:"item",key:a.id,"data-idx":L+1},[n("div",{class:"name",onDblclick:y=>k(a.id)},i(a.name||t.$t("\u672A\u547D\u540D")),41,G),n("div",M,[a.selected?(c(),r("button",Q,i(t.$t("\u5F53\u524D\u5E94\u7528")),1)):(c(),r(B,{key:1},[n("button",{class:"operation btn btn-small btn-warning",onClick:y=>$(a.id)},i(t.$t("\u5E94\u7528")),9,q),n("button",{class:"operation btn btn-small btn-danger",style:{"margin-left":"10px"},onClick:y=>C(a.id)},i(t.$t("\u5220\u9664")),9,H)],64))])],8,z))),128)),n("div",P,[n("button",{class:"btn btn-primary",onClick:D},[o(d,{name:"add",size:"1.2em",style:{"margin-right":"4px"}}),O(" "+i(t.$t("\u65B0\u589E")),1)])])])]),n("div",W,i(t.$t("\u5176\u4ED6\u8BBE\u7F6E")),1),n("div",X,[o(F,{"label-width":"110px"},{default:v(()=>[o(g,{label:t.$t("\u5C55\u793A\u5207\u6362\u6309\u94AE")},{default:v(()=>[n("div",Y,[o(p,{modelValue:w(h),"onUpdate:modelValue":e[0]||(e[0]=a=>T(h)?h.value=a:null)},null,8,["modelValue"]),o(S,{content:t.$t("tabsSwitchBtnTips")},null,8,["content"])])]),_:1},8,["label"]),o(g,{label:t.$t("\u65B9\u5411\u952E\u5207\u6362")},{default:v(()=>[n("div",Z,[o(p,{modelValue:w(m),"onUpdate:modelValue":e[1]||(e[1]=a=>T(m)?m.value=a:null)},null,8,["modelValue"]),o(S,{content:t.$t("tabsKeyboardSwitchTips")},null,8,["content"])])]),_:1},8,["label"])]),_:1})])])}}});var st=x(tt,[["__scopeId","data-v-21ed7da4"]]);export{st as default};
