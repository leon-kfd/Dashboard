var g=Object.defineProperty;var l=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var p=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&p(e,n,t[n]);if(l)for(var n of l(t))w.call(t,n)&&p(e,n,t[n]);return e};import{_ as h,u as k,m as C,e as A}from"./index.4e2a08f8.js";import{i as x,r as u,l as I,M as d,o as j,b as D,j as T,f as $,h as b,H as E,D as f,Q as F,e as _}from"./vendor.81fc964e.js";const z=x({name:"Verse",props:{componentSetting:{type:Object,required:!0}},setup(e){const t=u(""),n=u(),c=k(),{t:s}=I();async function a(){try{const i=await fetch("https://v1.jinrishici.com/all.json"),{content:v}=await i.json();t.value=v}catch{}}let o;const r=()=>{const i=(e.componentSetting.duration||5)*60*1e3;o&&(window.clearInterval(o),o=null),o=window.setInterval(a,i)};d(()=>e.componentSetting.duration,()=>r(),{immediate:!0}),j(()=>a()),D(()=>o&&window.clearInterval(o));const S=T(()=>C(e.componentSetting.position));return d(()=>t.value,()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400)}),{verse:t,positionCSS:S,verseElement:n,handleClickAction:()=>{e.componentSetting.clickActionType===1?(a(),r()):e.componentSetting.clickActionType===2?window.open(`https://hanyu.baidu.com/s?wd=${encodeURIComponent(t.value)}`):e.componentSetting.clickActionType===3&&A(t.value)&&F({title:s("\u63D0\u793A"),type:"success",message:s("\u590D\u5236\u6210\u529F")})},contextmenu:i=>{c.isLock&&i.stopPropagation()}}}});function B(e,t,n,c,s,a){return _(),$("div",{class:"wrapper",ref:"verseElement",style:f(m({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},e.positionCSS))},[b("span",{style:f(e.componentSetting.clickActionType?"cursor: pointer":""),onClick:t[0]||(t[0]=(...o)=>e.handleClickAction&&e.handleClickAction(...o)),onContextmenu:t[1]||(t[1]=(...o)=>e.contextmenu&&e.contextmenu(...o))},E(e.verse),37)],4)}var q=h(z,[["render",B],["__scopeId","data-v-b1afef90"]]);export{q as default};
