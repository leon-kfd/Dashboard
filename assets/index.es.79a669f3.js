import{b as g,j as h,Y as x,z as b,Z as m,_ as P,$ as S}from"./index.4162dac6.js";import"./index.561fee4b.js";import"./vendor.9f2f1c6d.js";import"./color.556e4bcb.js";const l=e=>{if(!e)return!1;if(Array.isArray(e))return e.length>1?!1:l(e[0]);const r=e.content;return r?l(r):e.type==="text"},y=g(()=>({prosePlugins:(e,r)=>{const d=r.get(h);return r.update(x,t=>{var n;return{editable:(n=t.editable)!=null?n:()=>!0}}),[new b({props:{handlePaste:(t,n)=>{var s,a;const c=r.get(m),f=(a=(s=t.props).editable)==null?void 0:a.call(s,t.state),{clipboardData:i}=n;if(!f||!i)return!1;const p=i.getData("text/plain");if(i.getData("text/html").length>0||p.length===0)return!1;const o=c(p);if(!o||typeof o=="string")return!1;const u=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new P(o.content,u.openStart,u.openEnd))),!0},clipboardTextSerializer:t=>{const n=r.get(S);if(l(t.content.toJSON()))return t.content.textBetween(0,t.content.size,`

`);const a=d.topNodeType.createAndFill(void 0,t.content);return a?n(a):""}}})]}})),v=y();export{v as clipboard,y as clipboardPlugin};
